/**
 * Icon Fallback System
 *
 * Provides Unicode/emoji fallbacks for ALL Phosphor icons used in the app.
 * When icon fonts fail to load (CDN blocked, iOS cache purge, offline, etc.),
 * these fallbacks ensure icons still display using system fonts.
 *
 * Usage: These fallbacks activate automatically when:
 * 1. Font files fail to load (CSS-based, no JS needed)
 * 2. .icon-fallback class is added (JS detection)
 * 3. .icon-fonts-failed class is added to <html> (global fallback)
 */

/* =================================================================
   FALLBACK ACTIVATION
   ================================================================= */

/**
 * When fonts fail to load, apply these fallback styles
 * Works automatically - no JavaScript required
 */
.icon-fonts-failed [class*="ph-"]::before,
.icon-fallback [class*="ph-"]::before {
  font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif !important;
  font-style: normal;
  font-weight: normal;
  speak: never;
  display: inline-block;
  text-decoration: inherit;
  text-align: center;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* =================================================================
   MAIN APP ICON FALLBACKS
   ================================================================= */

/* Close / Dismiss */
.icon-fonts-failed .ph-x::before,
.icon-fallback.ph-x::before {
  content: "√ó";
  font-size: 1.5em;
  line-height: 0.8;
}

/* Favorite / Heart */
.icon-fonts-failed .ph-heart::before,
.icon-fallback.ph-heart::before {
  content: "‚ô•";
  color: currentColor;
}

/* Shuffle */
.icon-fonts-failed .ph-shuffle::before,
.icon-fallback.ph-shuffle::before {
  content: "üîÄ";
}

/* Download / Install */
.icon-fonts-failed .ph-download-simple::before,
.icon-fallback.ph-download-simple::before {
  content: "‚¨á";
}

/* Caret Double Up */
.icon-fonts-failed .ph-caret-double-up::before,
.icon-fallback.ph-caret-double-up::before {
  content: "‚è´";
}

/* History / Clock Counter Clockwise */
.icon-fonts-failed .ph-clock-counter-clockwise::before,
.icon-fallback.ph-clock-counter-clockwise::before {
  content: "‚Ü∫";
  font-size: 1.2em;
}

/* YouTube Logo */
.icon-fonts-failed .ph-youtube-logo::before,
.icon-fallback.ph-youtube-logo::before {
  content: "‚ñ∂";
  color: #ff0000;
}

/* Smiley / Mood */
.icon-fonts-failed .ph-smiley::before,
.icon-fallback.ph-smiley::before {
  content: "‚ò∫";
}

/* Music Notes */
.icon-fonts-failed .ph-music-notes::before,
.icon-fallback.ph-music-notes::before {
  content: "‚ô´";
}

/* Music Notes Simple */
.icon-fonts-failed .ph-music-notes-simple::before,
.icon-fallback.ph-music-notes-simple::before {
  content: "‚ô™";
}

/* Search / Magnifying Glass */
.icon-fonts-failed .ph-magnifying-glass::before,
.icon-fallback.ph-magnifying-glass::before {
  content: "üîç";
}

/* Info */
.icon-fonts-failed .ph-info::before,
.icon-fallback.ph-info::before {
  content: "‚Ñπ";
  font-weight: bold;
}

/* Play */
.icon-fonts-failed .ph-play::before,
.icon-fallback.ph-play::before {
  content: "‚ñ∂";
}

/* Pause */
.icon-fonts-failed .ph-pause::before,
.icon-fallback.ph-pause::before {
  content: "‚è∏";
}

/* =================================================================
   MOOD ICON FALLBACKS
   ================================================================= */

/* Beast Mode - Barbell */
.icon-fonts-failed .ph-barbell::before,
.icon-fallback.ph-barbell::before {
  content: "üèã";
}

/* Intense - Fire */
.icon-fonts-failed .ph-fire::before,
.icon-fallback.ph-fire::before {
  content: "üî•";
}

/* Energetic - Lightning */
.icon-fonts-failed .ph-lightning::before,
.icon-fallback.ph-lightning::before {
  content: "‚ö°";
}

/* Power - Lightning Slash */
.icon-fonts-failed .ph-lightning-slash::before,
.icon-fallback.ph-lightning-slash::before {
  content: "‚ö†";
}

/* Aggressive - Fire Simple */
.icon-fonts-failed .ph-fire-simple::before,
.icon-fallback.ph-fire-simple::before {
  content: "üî•";
}

/* Pump Up - Heartbeat */
.icon-fonts-failed .ph-heartbeat::before,
.icon-fallback.ph-heartbeat::before {
  content: "üíó";
}

/* Focus - Crosshair */
.icon-fonts-failed .ph-crosshair::before,
.icon-fallback.ph-crosshair::before {
  content: "‚äï";
  font-size: 1.2em;
}

/* Motivated - Rocket Launch */
.icon-fonts-failed .ph-rocket-launch::before,
.icon-fallback.ph-rocket-launch::before {
  content: "üöÄ";
}

/* Steady - Gauge */
.icon-fonts-failed .ph-gauge::before,
.icon-fallback.ph-gauge::before {
  content: "‚äô";
  font-size: 1.2em;
}

/* =================================================================
   GENRE ICON FALLBACKS
   ================================================================= */

/* Guitar - Rock */
.icon-fonts-failed .ph-guitar::before,
.icon-fallback.ph-guitar::before {
  content: "üé∏";
}

/* Microphone - Hip Hop */
.icon-fonts-failed .ph-microphone-stage::before,
.icon-fallback.ph-microphone-stage::before {
  content: "üé§";
}

/* Skull - Metal */
.icon-fonts-failed .ph-skull::before,
.icon-fallback.ph-skull::before {
  content: "‚ò†";
}

/* Speaker - Trap */
.icon-fonts-failed .ph-speaker-high::before,
.icon-fallback.ph-speaker-high::before {
  content: "üîä";
}

/* Robot - Hardstyle */
.icon-fonts-failed .ph-robot::before,
.icon-fallback.ph-robot::before {
  content: "ü§ñ";
}

/* Car - Phonk */
.icon-fonts-failed .ph-car::before,
.icon-fallback.ph-car::before {
  content: "üöó";
}

/* Timer - DnB */
.icon-fonts-failed .ph-timer::before,
.icon-fallback.ph-timer::before {
  content: "‚è±";
}

/* =================================================================
   ADMIN DASHBOARD ICON FALLBACKS
   ================================================================= */

/* Lock */
.icon-fonts-failed .ph-lock::before,
.icon-fallback.ph-lock::before {
  content: "üîí";
}

/* Warning */
.icon-fonts-failed .ph-warning::before,
.icon-fallback.ph-warning::before {
  content: "‚ö†";
}

/* Warning Circle */
.icon-fonts-failed .ph-warning-circle::before,
.icon-fallback.ph-warning-circle::before {
  content: "‚ö†";
}

/* List */
.icon-fonts-failed .ph-list::before,
.icon-fallback.ph-list::before {
  content: "‚ò∞";
}

/* House / Home */
.icon-fonts-failed .ph-house::before,
.icon-fallback.ph-house::before {
  content: "üè†";
}

/* Chart Pie */
.icon-fonts-failed .ph-chart-pie::before,
.icon-fallback.ph-chart-pie::before {
  content: "‚ó∑";
  font-size: 1.3em;
}

/* Chart Line */
.icon-fonts-failed .ph-chart-line::before,
.icon-fallback.ph-chart-line::before {
  content: "üìà";
}

/* Chart Line Up */
.icon-fonts-failed .ph-chart-line-up::before,
.icon-fallback.ph-chart-line-up::before {
  content: "üìà";
}

/* Gear / Settings */
.icon-fonts-failed .ph-gear::before,
.icon-fallback.ph-gear::before {
  content: "‚öô";
}

/* Users */
.icon-fonts-failed .ph-users::before,
.icon-fallback.ph-users::before {
  content: "üë•";
}

/* Calendar */
.icon-fonts-failed .ph-calendar::before,
.icon-fallback.ph-calendar::before {
  content: "üìÖ";
}

/* Calendar Blank */
.icon-fonts-failed .ph-calendar-blank::before,
.icon-fallback.ph-calendar-blank::before {
  content: "üìÖ";
}

/* Calendar Check */
.icon-fonts-failed .ph-calendar-check::before,
.icon-fallback.ph-calendar-check::before {
  content: "‚úì";
}

/* User */
.icon-fonts-failed .ph-user::before,
.icon-fallback.ph-user::before {
  content: "üë§";
}

/* User Circle */
.icon-fonts-failed .ph-user-circle::before,
.icon-fallback.ph-user-circle::before {
  content: "üë§";
}

/* User Plus */
.icon-fonts-failed .ph-user-plus::before,
.icon-fallback.ph-user-plus::before {
  content: "üë§+";
}

/* Sign Out */
.icon-fonts-failed .ph-sign-out::before,
.icon-fallback.ph-sign-out::before {
  content: "‚éã";
}

/* Caret Right */
.icon-fonts-failed .ph-caret-right::before,
.icon-fallback.ph-caret-right::before {
  content: "‚ñ∂";
  font-size: 0.7em;
}

/* Arrow Clockwise / Refresh */
.icon-fonts-failed .ph-arrow-clockwise::before,
.icon-fallback.ph-arrow-clockwise::before {
  content: "‚Üª";
  font-size: 1.2em;
}

/* Arrows Clockwise */
.icon-fonts-failed .ph-arrows-clockwise::before,
.icon-fallback.ph-arrows-clockwise::before {
  content: "‚ü≤";
  font-size: 1.2em;
}

/* Funnel / Filter */
.icon-fonts-failed .ph-funnel::before,
.icon-fallback.ph-funnel::before {
  content: "‚äΩ";
  font-size: 1.2em;
}

/* Trash / Delete */
.icon-fonts-failed .ph-trash::before,
.icon-fallback.ph-trash::before {
  content: "üóë";
}

/* Trend Up */
.icon-fonts-failed .ph-trend-up::before,
.icon-fallback.ph-trend-up::before {
  content: "‚Üó";
}

/* Trend Down */
.icon-fonts-failed .ph-trend-down::before,
.icon-fallback.ph-trend-down::before {
  content: "‚Üò";
}

/* Spinner / Loading */
.icon-fonts-failed .ph-spinner::before,
.icon-fallback.ph-spinner::before {
  content: "‚ü≥";
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Clipboard */
.icon-fonts-failed .ph-clipboard::before,
.icon-fallback.ph-clipboard::before {
  content: "üìã";
}

/* Star */
.icon-fonts-failed .ph-star::before,
.icon-fallback.ph-star::before {
  content: "‚òÖ";
}

/* Activity */
.icon-fonts-failed .ph-activity::before,
.icon-fallback.ph-activity::before {
  content: "„Ä∞";
}

/* Circle (generic) */
.icon-fonts-failed .ph-circle::before,
.icon-fallback.ph-circle::before {
  content: "‚óè";
}

/* Check Circle */
.icon-fonts-failed .ph-check-circle::before,
.icon-fallback.ph-check-circle::before {
  content: "‚úì";
}

/* Play Circle */
.icon-fonts-failed .ph-play-circle::before,
.icon-fallback.ph-play-circle::before {
  content: "‚ñ∂";
}

/* Pause Circle */
.icon-fonts-failed .ph-pause-circle::before,
.icon-fallback.ph-pause-circle::before {
  content: "‚è∏";
}

/* Stop Circle */
.icon-fonts-failed .ph-stop-circle::before,
.icon-fallback.ph-stop-circle::before {
  content: "‚èπ";
}

/* Music Note (singular) */
.icon-fonts-failed .ph-music-note::before,
.icon-fallback.ph-music-note::before {
  content: "‚ô™";
}

/* Arrow Counter Clockwise */
.icon-fonts-failed .ph-arrow-counter-clockwise::before,
.icon-fallback.ph-arrow-counter-clockwise::before {
  content: "‚Ü∫";
}

/* Sign In */
.icon-fonts-failed .ph-sign-in::before,
.icon-fallback.ph-sign-in::before {
  content: "‚Üí";
}

/* Eye */
.icon-fonts-failed .ph-eye::before,
.icon-fallback.ph-eye::before {
  content: "üëÅ";
}

/* Eye Slash */
.icon-fonts-failed .ph-eye-slash::before,
.icon-fallback.ph-eye-slash::before {
  content: "‚äò";
}

/* Tag */
.icon-fonts-failed .ph-tag::before,
.icon-fallback.ph-tag::before {
  content: "üè∑";
}

/* Browsers */
.icon-fonts-failed .ph-browsers::before,
.icon-fallback.ph-browsers::before {
  content: "‚äû";
}

/* Minus */
.icon-fonts-failed .ph-minus::before,
.icon-fallback.ph-minus::before {
  content: "‚àí";
}

/* =================================================================
   RESPONSIVE FALLBACK SIZING
   ================================================================= */

/**
 * Ensure fallback icons scale properly on mobile
 */
@media (max-width: 768px) {
  .icon-fonts-failed [class*="ph-"]::before,
  .icon-fallback [class*="ph-"]::before {
    /* Slightly larger on mobile for better visibility */
    font-size: 1.05em;
  }
}

/* =================================================================
   DEBUGGING
   ================================================================= */

/**
 * Optional: Add visual indicator when fallbacks are active
 * Uncomment for debugging
 */
/*
.icon-fonts-failed::after {
  content: "‚ö† Icon fonts failed - showing fallbacks";
  position: fixed;
  bottom: 10px;
  right: 10px;
  background: rgba(255, 0, 0, 0.8);
  color: white;
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 12px;
  z-index: 9999;
  font-family: system-ui, sans-serif;
}
*/
